
<f:if condition="{settings.groupByYear}">
	<f:then>
		<f:groupedFor each="{publications.1}" as="publicationlist" 
			groupBy="year" 
			groupKey="year">
			<h3>{year}</h3>
			<hr class="light" />
			<f:for each="{publicationlist}" as="publication" iteration="iterator">
				<div class="research-output ucris content-element-margin-small">
						<f:format.html>{publication.rendering}</f:format.html>
						<f:if condition="{settings.showPublicationType}">
							<f:if condition="{publication.publicationStatus.uri} != '/dk/atira/pure/researchoutput/status/published'">
								<div><em>{publication.publicationStatus.value}</em></div>
							</f:if>
						</f:if>
						<div><f:link.action action="show" arguments="{uuid : publication.uuid, what2show:'publ'}"
							controller="Pure"
							pageUid="{settings.singlePid}"><f:translate key="LLL:EXT:univie_pure/Resources/Private/Language/locallang.xlf:univiepur.more" /></f:link.action></div>
						<hr style="border-top: 1px solid #e4e4e4;" />
				</div>
			</f:for>
		</f:groupedFor>
	</f:then>
	<f:else>
		<f:for each="{publications.1}" as="publication">
			<div class="reserch-output ucris content-element-margin-small">
					<f:format.html>{publication.rendering}</f:format.html>
					<f:if condition="{settings.showPublicationType}">
						<f:if condition="{publication.publicationStatus.uri} != '/dk/atira/pure/researchoutput/status/published'">
							<div><em>{publication.publicationStatus.value}</em></div>
						</f:if>
					</f:if>
					<div><f:link.action action="show" arguments="{uuid : publication.uuid, what2show:'publ'}"
							controller="Pure"
							pageUid="{settings.singlePid}"><f:translate key="LLL:EXT:univie_pure/Resources/Private/Language/locallang.xlf:univiepur.more" /></f:link.action></div>
					<hr style="border-top: 1px solid #e4e4e4;" />
			</div>
		</f:for>
	</f:else>
</f:if>
